<!DOCTYPE html> 
<html> 
<head> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/> 
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" /> 
<title>mapa</title> 
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
<script type="text/javascript">

  var directionsDisplay = new google.maps.DirectionsRenderer();
  var directionsService = new google.maps.DirectionsService(); 
  var Chernobyl = new google.maps.LatLng(51.39,30.1);
  function initialize() {
	var Main = new google.maps.LatLng(50.0805,19.93621);
	var myOptions = {
		zoom: 6,
		center: Chernobyl,
		mapTypeId: google.maps.MapTypeId.ROADMAP
	}
	var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
	directionsDisplay.setMap(map);
	var infowindow = new google.maps.InfoWindow();
	infowindow.setContent('<h1>Czarnobyl :)</h1>'+'<div>zabawa dla calej rodziny</div>');
	var Pmarker = new google.maps.Marker({map: map, position: Chernobyl});
	var Imarker = new google.maps.Marker({map: map, 
		draggable: true,
		animation: google.maps.Animation.DROP,
		position : Main });
	google.maps.event.addListener(Pmarker,'click',function(){
		infowindow.open(map,Pmarker);
		});
	google.maps.event.addListener(map,'click',function(){
		infowindow.close();
		});
	google.maps.event.addListener(Imarker, 'dragend', function(event){ showRoute(event.latLng); });
  }
	function showRoute(loc){
		request = {
			origin: loc, 
			destination: Chernobyl, 
			travelMode: google.maps.DirectionsTravelMode.WALKING};
		directionsService.route(request, function(result,status){
			if(status==google.maps.DirectionsStatus.OK){
				directionsDisplay.setDirections(result);}
		});
	}
</script> 
</head> 
<body onload="initialize()"> 
  <div id="map_canvas"></div> 
</body> 
</html> 
